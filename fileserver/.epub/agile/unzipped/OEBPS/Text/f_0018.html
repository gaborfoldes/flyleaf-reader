<?xml version="1.0" encoding="utf-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
  "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Agile Web Development with Rails</title>
  <link href="../Styles/bookshelf.css" rel="stylesheet" type="text/css" />
  <link href="../Styles/book_local.css" rel="stylesheet" type="text/css" />
  <link href="../Styles/page-template.xpgt" rel="stylesheet" type="application/vnd.adobe-page-template+xml" />
  <meta content="rails4" name="bookcode" />
  <style type="text/css">
/*<![CDATA[*/

  code.sgc-1 {white-space: pre-wrap;}
  /*]]>*/
  </style>
</head>

<body>
  <h2 id="sec.editors">1.5 Setting Up Your Development Environment</h2>

  <p id="N10603">The day-to-day business of writing Rails programs is pretty straightforward. Everyone works differently; here’s how we work.</p>

  <h3 id="heading_id_2">The Command Line</h3>

  <p id="N10611">We do a lot of work at the command line. Although there are an increasing number of GUI tools that help generate and manage a Rails application, we find the command line is still the most powerful place to be. It’s worth spending a little while getting familiar with the command line on your operating system. Find out how to use it to edit commands that you’re typing, how to search for and edit previous commands, and how to complete the names of files and commands as you type.</p>

  <p id="N1061A">So-called tab completion is standard on Unix shells such as Bash and zsh. It allows you to type the first few characters of a filename, hit <code class="cf keystroke">Tab</code>, and have the shell look for and complete the name based on matching files.</p>

  <h3 id="sec.version.control">Version Control</h3>

  <p id="N1062B">We keep all our work in a version control system (currently Git). We make a point of checking a new Rails project into Git when we create it and committing changes once we have passed the tests. We normally commit to the repository many times an hour.</p>

  <p id="N10634">If you’re working on a Rails project with other people, consider setting up a continuous integration (CI) system. When anyone checks in changes, the CI system will check out a fresh copy of the application and run all the tests. It’s a simple way to ensure that accidental breakages get immediate attention. You can also set up your CI system so that your customers can use it to play with the bleeding-edge version of your application. This kind of transparency is a great way of ensuring that your project isn’t going off the tracks.</p>

  <div class="sidebar">
    <div class="sidebar-title">
      Where's My IDE?
    </div>

    <div class="sidebar-content">
      <p id="N1063E">If you’re coming to Ruby and Rails from languages such as C# and Java, you may be wondering about IDEs. After all, we all know that it’s impossible to code modern applications without at least 100MB of IDE supporting our every keystroke. For you enlightened ones, here’s the point in the book where we recommend you sit down&mdash;ideally propped up on each side by a pile of framework references and 1,000-page Made Easy books.</p>

      <p id="N1064A">It may surprise you to know that most Rails developers don’t use fully fledged IDEs for Ruby or Rails (although some of the environments come close). Indeed, many Rails developers use plain old editors. And it turns out that this isn’t as much of a problem as you might think. With other, less expressive languages, programmers rely on IDEs to do much of the grunt work for them, because IDEs do code generation, assist with navigation, and compile incrementally to give early warning of errors.</p>

      <p id="N1064D">With Ruby, however, much of this support just isn’t necessary. Editors such as TextMate and BBEdit give you 90 percent of what you’d get from an IDE but are far lighter weight. Just about the only useful IDE facility that’s missing is refactoring support.</p>
    </div>
  </div>

  <h3 id="heading_id_3">Editors</h3>

  <p id="N10658">We write our Rails programs using a programmer’s editor. We’ve found over the years that different editors work best with different languages and environments. For example, Dave originally wrote this chapter using Emacs, because he thinks that its Filladapt mode is unsurpassed when it comes to neatly formatting XML as he types. Sam updated the chapter using Vim. But many think that neither Emacs nor Vim is ideal for Rails development and prefer to use TextMate. Although the choice of editor is a personal one, here are some suggestions of features to look for in a Rails editor:</p>

  <ul>
    <li>
      <p id="N10671">Support for syntax highlighting of Ruby and HTML. Ideally support for <code class="cf fileextension">erb</code> files (a Rails file format that embeds Ruby snippets within HTML).</p>
    </li>

    <li>
      <p id="N10678">Support of automatic indentation and reindentation of Ruby source. This is more than an aesthetic feature: having an editor indent your program as you type is the best way of spotting bad nesting in your code. Being able to reindent is important when you refactor your code and move stuff. (TextMate’s ability to reindent when it pastes code from the clipboard is very convenient.)</p>
    </li>

    <li>
      <p id="N1067C">Support for insertion of common Ruby and Rails constructs. You’ll be writing lots of short methods, and if the IDE creates method skeletons with a keystroke or two, you can concentrate on the interesting stuff inside.</p>
    </li>

    <li>
      <p id="N10680">Good file navigation. As you’ll see, Rails applications are spread across many files: a newly created Rails application enters the world containing forty-six files spread across thirty-four directories. That’s before you’ve written a thing.</p>

      <p id="N10683">You need an environment that helps you navigate quickly between these. You’ll add a line to a controller to load a value, switch to the view to add a line to display it, and then switch to the test to verify you did it all right. Something like Notepad, where you traverse a File Open dialog box to select each file to edit, just won’t cut it. We prefer a combination of a tree view of files in a sidebar, a small set of keystrokes that help us find a file (or files) in a directory tree by name, and some built-in smarts that know how to navigate (say) between a controller action and the corresponding view.</p>
    </li>

    <li>
      <p id="N10687">Name completion. Names in Rails tend to be long. A nice editor will let you type the first few characters and then suggest possible completions to you at the touch of a key.</p>
    </li>
  </ul>

  <p id="N1068A">We hesitate to recommend specific editors because we’ve used only a few in earnest and we’ll undoubtedly leave someone’s favorite editor off the list. Nevertheless, to help you get started with something other than Notepad, here are some suggestions:</p>

  <ul>
    <li>
      <p id="N10690">The Ruby and Rails editor of choice on Mac OS&nbsp;X is TextMate (<a href="http://macromates.com/">http://macromates.com/</a>).</p>
    </li>

    <li>
      <p id="N1069B">Xcode 3.0 on Mac OS&nbsp;X has an Organizer that provides much of what you might need. A tutorial that will get you started with Rails on Leopard is available at <a href="http://developer.apple.com/tools/developonrailsleopard.html">http://developer.apple.com/tools/developonrailsleopard.html</a>.</p>
    </li>

    <li>
      <p id="N106A8">For those who would otherwise like to use TextMate but happen to be using Windows, E-TextEditor (<a href="http://e-texteditor.com/">http://e-texteditor.com/</a>) provides “the Power of TextMate on Windows.”</p>
    </li>

    <li>
      <p id="N106B3">Aptana RadRails (<a href="http://www.aptana.com/products/radrails">http://www.aptana.com/products/radrails</a>) is an integrated Rails development environment that runs in Aptana Studio and Eclipse. It runs on Windows, Mac OS&nbsp;X, and Linux. It won an award for being the best open source developer tool based on Eclipse in 2006, and Aptana became the home for the project in 2007.</p>
    </li>

    <li>
      <p id="N106C7">NetBeans IDE 6.5 (<a href="http://netbeans.org/features/ruby/index.html">http://netbeans.org/features/ruby/index.html</a>) supports Windows, Mac OS&nbsp;X, Solaris, and Linux. It’s available in a download bundle with Ruby support or as a Ruby pack that can be downloaded later. In addition to specific support for Rails 2.0, Rake targets, and database migrations, it supports a Rails code generator graphical wizard and quick navigation from a Rails action to its corresponding view.</p>
    </li>

    <li>
      <p id="N106D2">jEdit (<a href="http://www.jedit.org/">http://www.jedit.org/</a>) is a fully featured editor with support for Ruby. It has extensive plugin support.</p>
    </li>

    <li>
      <p id="N106DD">Komodo (<a href="http://www.activestate.com/komodo-ide">http://www.activestate.com/komodo-ide</a>) is ActiveState’s IDE for dynamic languages, including Ruby.</p>
    </li>

    <li>
      <p id="N106E8">RubyMine (<a href="http://www.jetbrains.com/ruby/features/index.html">http://www.jetbrains.com/ruby/features/index.html</a>) is a commercial IDE for Ruby and is available for free to qualified educational and open source projects. It runs on Windows, Mac OS X, and Linux.</p>
    </li>
  </ul>

  <p id="N106F2">Ask experienced developers who use your kind of operating system which editor they use. Spend a week or so trying alternatives before settling in.</p>

  <h3 id="heading_id_4">The Desktop</h3>

  <p id="N10704">We’re not going to tell you how to organize your desktop while working with Rails, but we will describe what we do.</p>

  <p id="N10707">Most of the time, we’re writing code, running tests, and poking at an application in a browser. So, our main development desktop has an editor window and a browser window permanently open. We also want to keep an eye on the logging that’s generated by the application, so we keep a terminal window open. In it, we use <code class="cf commandname">tail -f</code> to scroll the contents of the log file as it’s updated. We normally run this window with a very small font so it takes up less space&mdash;if we see something interesting flash by, we zoom it up to investigate.</p>

  <p id="N1070D">We also need access to the Rails API documentation, which we view in a browser. In the introduction, we talked about using the <code class="cf commandname">gem server</code> command to run a local web server containing the Rails documentation. This is convenient, but it unfortunately splits the Rails documentation across a number of separate documentation trees. If you’re online, you can use <a href="http://api.rubyonrails.org/">http://api.rubyonrails.org/</a> to see a consolidated view of all the Rails documentation in one place.</p>

  <div class="sidebar" id="sb.doc">
    <div class="sidebar-title">
      Creating Your Own Rails API Documentation
    </div>

    <div class="sidebar-content">
      <p id="N1071A">You can create your own local version of the consolidated Rails API documentation. Just type the following commands at a command prompt:</p>

      <table class="processedcode">
        <tr>
          <td class="codeprefix">&nbsp;</td>

          <td class="codeline"><code class="sgc-1">rails_apps&gt; <strong class="prompt">rails new dummy_app</strong></code></td>
        </tr>

        <tr>
          <td class="codeprefix">&nbsp;</td>

          <td class="codeline"><code class="sgc-1">rails_apps&gt; <strong class="prompt">cd dummy_app</strong></code></td>
        </tr>

        <tr>
          <td class="codeprefix">&nbsp;</td>

          <td class="codeline"><code class="sgc-1">dummy_app&gt; <strong class="prompt">rake doc:rails</strong></code></td>
        </tr>
      </table>

      <p id="N10737">The last step takes a while. When it finishes, you’ll have the Rails API documentation in a directory tree starting at <code class="cf dir">doc/api</code>. We suggest moving this folder to your desktop and then deleting the <code class="cf dir">dummy_app</code> tree.</p>

      <p id="N10740">To view the Rails API documentation, open the location <code class="cf dir">doc/api/index.html</code> with your browser.</p>
    </div>
  </div><script src="../Misc/book_local.js" type="text/javascript">
</script>
</body>
</html>
